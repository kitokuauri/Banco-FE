<div>
    <h2>Lista de Clientes:</h2>
    <p><a routerLink="/dashboard">Volver.</a></p>
    <h4>Haz click en un cualquier cliente para actualizarlo.</h4>

    <div *ngFor="let cliente of clientes" (click)="mostrarFormulario(cliente)">
        <p>Id: {{ cliente.id }}</p>
        <p>{{ cliente.nombre }} {{ cliente.apellido }}</p>
        <ul>
            <li>Correo: {{ cliente.email }}</li>
        </ul>
        <button (click)="eliminarCliente(cliente.id)">Eliminar</button>
        <hr>
    </div>

    <div *ngIf="formularioActualizar && clienteSeleccionado" >
        <h3>Actualizar Cliente</h3>
        <form (submit)="actualizarCliente()">
            <label for="text">Nombre:</label>
            <input type="text" [(ngModel)]="clienteSeleccionado.nombre" name="nombre" required><br>
            <label for="text">Apellido: </label>
            <input type="text" [(ngModel)]="clienteSeleccionado.apellido" name="apellido" required><br>
            <label for="email">Email: </label>
            <input type="email" [(ngModel)]="clienteSeleccionado.email" name="email" required><br>
            <button type="submit">Enviar</button>
        </form>
    </div>
    
<div>
    <h3>Agregar Cliente</h3>
    <form (submit)="insertarCliente()">
        <label for="text">Nombre:</label>
        <input type="text" [(ngModel)]="nuevoCliente.nombre" name="nombre" required><br>
        <label for="text">Apellido: </label>
        <input type="text" [(ngModel)]="nuevoCliente.apellido" name="apellido" required><br>
        <label for="email">Email: </label>
        <input type="email" [(ngModel)]="nuevoCliente.email" name="email" required><br>
        <button type="submit">Enviar</button>
    </form>
</div>

    <button (click)="convertirClientesAJson()">Convertir a Json</button>
    <div *ngIf="mostrarConvertidosAJson">
        <button (click)="ocultarConvertidos()">Ocultar</button>
        <p>{{ clientesJson }}</p>
        <button (click)="convertirDesdeJson()">Convertir desde Json</button><br>
        
        <button (click)="ocultarConvertidosDesdeJson()">Ocultar</button>
        <div *ngIf="mostrarConvertidosDesdeJson">
            <div *ngFor="let cliente of clientes">
                <p>Id: {{ cliente.id }}</p>
                <p>{{ cliente.nombre }} {{ cliente.apellido }}</p>
                <ul>
                    <li>Correo: {{ cliente.email }}</li>
                </ul>
                <hr>
            </div>
        </div>
    </div>
</div>
